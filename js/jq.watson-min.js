(function(a){a.fn.wslider=function(b){b=a.extend({animation:"shading",navigation:!0,buttons:!0,fadespeed:500,playspeed:5E3,autoplay:!0,buttons_code:{prev:"<a href='javascript:void(0)' class='slide-prev'>&lt;</a>",next:"<a href='javascript:void(0)' class='slide-next'>&gt;</a>"},nav_bt:[]},b);return this.each(function(){function c(b,g){if(!b||!k)return null;k=!1;var e=a(b).find("li"),c,n,m;if(a(b).hasClass("container-shading"))c="shading";else if(a(b).hasClass("container-turn"))c="turn";else return!1;
    n=a(e).index(a(b).find(".slide-active"));if("string"===typeof g){var h=a(e).index(e[n]);"prev"==g&&(m=0==h?e.length-1:h-1);"next"==g&&(m=h==e.length-1?0:h+1)}"number"==typeof g&&(m=g);n!=m?f(c,d,n,m):k=!0}function f(d,g,e,f){var c=a(g).find("li"),h=a(g).find(".slider-navigation "+l);"simple"==d&&(a(c[e]).removeClass("slide-active"),a(h).removeClass("slider-navigation-active"),a(c[f]).addClass("slide-active"),a(h[f]).addClass("slider-navigation-active"),k=!0);"shading"==d&&(a(c[f]).addClass("slide-temp"),
    a(c[e]).fadeOut(b.fadespeed,function(){a(h).removeClass("slider-navigation-active");a(h[f]).addClass("slider-navigation-active");a(c[e]).removeClass("slide-active");a(c[f]).addClass("slide-active");a(c).removeClass("slide-temp");a(c[e]).show();k=!0}));"turn"==d&&(d=a(c[0]).width()*f,a(c[e]).removeClass("slide-active"),a(h).removeClass("slider-navigation-active"),a(g).find("ul").animate({left:"-"+d}),a(c[f]).addClass("slide-active"),a(h[f]).addClass("slider-navigation-active"),k=!0)}var d=this,k=!0,
    e=!0,g=a(this).find("li");a(g[0]).addClass("slide-active");"shading"==b.animation&&(a(d).addClass("container-shading"),a(g).addClass("slide-shading"));if("turn"==b.animation){var h=a(d).width();a(g).width(h);a(g).parent().width(h*g.length);a(g).addClass("slide-turn");a(d).addClass("container-turn")}if(b.navigation){var l="a";a(d).append("<div class='slider-navigation'></div>");a(g).each(function(e){b.nav_bt.length?a(d).find(".slider-navigation").append(b.nav_bt[e]):a(d).find(".slider-navigation").append("<a href='javascript:void(0)'><div></div></a>")});
    b.nav_bt.length&&(l=a(b.nav_bt[0])[0].tagName);a(d).find(".slider-navigation "+l).each(function(b,e){a(e).on("click",function(){c(d,b)});0==b&&a(e).addClass("slider-navigation-active")})}b.buttons&&(a(d).append(b.buttons_code.prev),a(d).append(b.buttons_code.next),a(d).find(".slide-prev").on("click",function(){c(d,"prev")}),a(d).find(".slide-next").on("click",function(){c(d,"next")}));a(window).on("resize",function(){var b=a(d).width();a(d).hasClass("container-turn")?(a(d).find("ul").width(b*g.length),
    a(d).find("li").width(b),b=a(g).index(a(d).find(".slide-active")),b*=a(g[0]).width(),a(d).find("ul").css({left:"-"+b+"px"})):(a(d).find("ul").width(b),a(d).find("li").width(b))});b.autoplay&&(a(d).on("mouseover",function(){e=!1}),a(d).on("mouseleave",function(){e=!0}),setInterval(function(){e&&c(d,"next")},b.playspeed))})};a.fn.wscroller=function(b){b=a.extend({container:void 0},b);if(0==this.length||1<this.length||!b.container||!a(b.container))return null;var c=this,f=a(c).parent(),d=a(f).offset().top;
    a(window).on("scroll load",function(){var k=a(b.container).height(),e=a(c).height(),g=a(window).scrollTop();a(b.container).css({position:"relative"});a(c).width(a(f).width());g>d?e+50>k||(0<k-(g-d+e)?a(c).css({position:"fixed",top:"10px"}):a(c).css({position:"absolute",top:k-e+"px"})):a(c).css({position:"relative"})});a(window).on("resize",function(){a(c).width(a(f).width())});return this};a.fn.wajaxform=function(b){function c(c){this.len=function(d){var k=3,e=10,g=a(c).find("[name='"+d+"']");b.data[d].min&&
(k=b.data[d].min);b.data[d].max&&(e=b.data[d].max);return a(g).val().length>k&&a(g).val().length<e};this.empty=function(b){b=a(c).find("[name='"+b+"']");return 0<a(b).val().length};this.numeric=function(b){b=a(c).find("[name='"+b+"']");return!isNaN(a(b).val()+1)&&0<a(b).val().length};this.email=function(b){b=a(c).find("[name='"+b+"']");return/^([A-z\u0410-\u044f0-9_\.\-\+])+\@(([A-z\u0410-\u044f0-9\-])+\.)+([A-z\u0410-\u044f0-9]{2,4})+$/.test(a(b).val())}}b=a.extend({ajax:!0,classError:"input-error",
    classSuccess:"input-success",callback:function(a){alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b")},data:{}},b);return this.each(function(){var f=this,d=new c(f),k=Object.keys(b.data);if(!k.length)return null;k.forEach(function(e){if(d[b.data[e].check]){var c=a(f).find("[name='"+e+"']");if(c.length)a(c).on("input",function(){var f=a(b.data[e].msgElement);d[b.data[e].check](e)?(a(c).removeClass(b.classError),a(c).addClass(b.classSuccess),b.data[e].text&&
    f.length&&a(f).text("")):(b.data[e].text&&f.length&&a(f).text(b.data[e].text),a(c).removeClass(b.classSuccess),a(c).addClass(b.classError))})}});a(f).on("submit",function(c){c.preventDefault();var g=!1;k.forEach(function(c){var e=a(f).find("[name='"+c+"']"),h=a(b.data[c].msgElement);d[b.data[c].check]&&(d[b.data[c].check](c)?b.data[c].text&&h.length&&a(h).text(""):(g=!0,a(e).removeClass(b.classSuccess),a(e).addClass(b.classError),b.data[c].text&&h.length&&a(h).text(b.data[c].text)))});if(!g)if(b.ajax){c=
    f.action;var h=f.method,l={};c||(c=window.location.href);h||(h="get");a(f).serializeArray().forEach(function(a){l[a.name]=a.value});a.ajax({url:c,method:h,data:l,success:b.callback})}else a(f).unbind("submit"),a(f).submit()})})}})(jQuery);function modal(a){return new modal.prototype.Init(a)}
modal.prototype={width:500,load:function(){},Init:function(a){this.build();"object"==typeof a&&(a.width&&(this.width=a.width),a.load&&(this.load=a.load.bind(this)),a.title&&this.setTitle("\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),a.content&&this.setContent(a.content))},build:function(){this.$modalOverlay=$('<div id="modal-overlay">').hide();this.$modalBox=$('<div class="modal-box" />').hide();this.$modal=$('<div class="modal" />');this.$modalHeader=$("<header />");this.$modalClose=
    $('<span class="modal-close" />').html("&times;");this.$modalBody=$("<section />");this.$modalFooter=$("<footer />");this.$modal.append(this.$modalHeader);this.$modal.append(this.$modalClose);this.$modal.append(this.$modalBody);this.$modal.append(this.$modalFooter);this.$modalBox.append(this.$modal);this.$modalClose.on("click",$.proxy(this.close,this))},close:function(a){if(a){if(!$(a.target).hasClass("modal-close-btn")&&a.target!=this.$modalClose[0]&&a.target!=this.$modalBox[0])return;a.preventDefault()}this.$modalBox&&
(this.$modalOverlay.remove(),this.$modalBox.fadeOut("fast",$.proxy(function(){this.$modalBox.remove();$(document.body).css("overflow",this.bodyOveflow)},this)))},show:function(){this.load();$(".modal-box").length&&$(".modal-box").remove();$("#modal-overlay").length&&$("#modal-overlay").remove();this.$modalBox.appendTo(document.body);this.$modalOverlay.appendTo(document.body);this.bodyOveflow=$(document.body).css("overflow");$(document.body).css("overflow","hidden");this.isMobile()?this.showOnMobile():
    this.showOnDesktop();this.isMobile()||(setTimeout($.proxy(this.showOnDesktop,this),0),$(window).on("resize",$.proxy(this.resize,this)));this.$modalOverlay.show();this.$modalBox.show()},resize:function(){this.isMobile()?this.showOnMobile():this.showOnDesktop()},isMobile:function(){return window.matchMedia("(max-width: 767px)").matches?!0:!1},showOnDesktop:function(){var a=this.$modal.outerHeight(),b=$(window).height(),c=$(window).width();this.width>c?this.$modal.css({width:"96%",marginTop:b/2-a/2+
    "px"}):a>b?this.$modal.css({width:this.width+"px",marginTop:"20px"}):this.$modal.css({width:this.width+"px",marginTop:b/2-a/2+"px"})},showOnMobile:function(){this.$modal.css({width:"96%",marginTop:"2%"})},setTitle:function(a){this.$modalHeader.html(a)},setContent:function(a){"object"==typeof a&&(a.html&&(this.$modalBody.html(a.html),this.show()),a.selector&&(this.$modalBody.html($(a.selector).html()),this.show()),a.ajax&&$.ajax({url:a.ajax,cache:!1,success:$.proxy(function(a){this.$modalBody.html(a);
    this.show()},this)}))}};modal.prototype.Init.prototype=modal.prototype;